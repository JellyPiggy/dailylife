# 什么是子查询？

​	select语句中嵌套select语句，被嵌套的select语句称为子查询。

# 子查询都可以出现在哪里呢？

​	select
​		..(select).
​	from
​		..(select).
​	where
​		..(select).

## where子句中的子查询

案例：找出比最低工资高100的员工姓名和工资？

​	select 
​			ename,sal
​		from
​			emp 
​		where
​			sal > min(sal);

​	ERROR 1111 (HY000): Invalid use of group function
​	where子句中不能直接使用分组函数。

正确：select e.ename, e.sal from emp e where e.sal > (select min(sal)+1000 from emp);

## from子句中的子查询

案例：找出每个岗位的平均工资的薪资等级。

select a.*, s.grade from (select job, avg(sal) avg_sal from emp group by job) a join salgrade s on a.avg_sal between s.losal and s.hisal;

**子查询中的avg(sal)一定要起个别名才能在内连接中使用**

## select后面出现的子查询(了解即可)

案例：找出每个员工的部门名称，要求显示员工名，部门名？
	select 
		e.ename,e.deptno,(select d.dname from dept d where e.deptno = d.deptno) as dname 
	from 
		emp e;



select 
		e.ename,e.deptno,(select dname from dept) as dname
	from
		emp e;
	//错误：ERROR 1242 (21000): Subquery returns more than 1 row

注意：对于select后面的子查询来说，这个子查询只能一次返回1条结果，
多于1条，就报错了。！

